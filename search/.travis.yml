language: python
python:
  - '3.6'
install:
  - pip3 install -r requirements.txt
  - pip3 install mypy
script:
  - make test
deploy:
  provider: pypi
  user: amundsen-dev
  password:
    secure: pe1IYeD3V+2LdqfRLPiVdm7XXJSLBBesMi0bsY1r0+qLdo9kJozt9RFV3XcExDidIkLElTWtFZOwQVbB97QF27EcnJ5WUlKziH8WjfD9Yp6wnVvuYBGoi2Hj0srioW+MZUDPHiYjqA0w+OSHgrmKVS684KQDNe3O2jsgLCCAb31at3aIUuFudRfyOjj3hnIJhFfMIoesgBkhejsJTOasF+ZEvD/DF7t5H4drsA0zBbcXcZBx2FcLlUC43G1UfP9DmjgIEUd19OQDRW3qw/KEG/acGc20Borsp2yoBLdluEsrZnhXMK0afD1HOO+S2YdbJSJdjXxm8axo1PZGeHfobXDumyWHYYDUjUSKe4TItT5crYC+gphrUma07LQxX4aNTl6jnM6DQbCpPjiU26/1SloEFnfWhE4IneT735ejnSwIibu03ePm+w3a5KH52A+glTGLOWW9p8yrOp1SL8SvzVz5982NIosDpMfA8boOhhjFZXmx+Jrwl57qeaNfPx+XoE627QSkSPE6wjBGexwkw5csIdUxoYB61UT7bfBCa6F3+g8dqKyWmx6Rw9vbAukFjgyNWmEYStFdXcbuaS8tkLdGzcoHI+IwF+vKCQdQZnDGKALgYD+d70bHnhDwlMTO7Yz7grhvu288d16anjHgD4TgfPSGLxXIjPlQm9sS1Cc=
  on:
    tags: true
    distributions: sdist bdist_wheel
    repo: lyft/amundsensearchlibrary
